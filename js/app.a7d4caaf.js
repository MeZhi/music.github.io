(function(t){function a(a){for(var e,c,l=a[0],r=a[1],o=a[2],p=0,v=[];p<l.length;p++)c=l[p],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&v.push(i[c][0]),i[c]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);u&&u(a);while(v.length)v.shift()();return n.push.apply(n,o||[]),s()}function s(){for(var t,a=0;a<n.length;a++){for(var s=n[a],e=!0,l=1;l<s.length;l++){var r=s[l];0!==i[r]&&(e=!1)}e&&(n.splice(a--,1),t=c(c.s=s[0]))}return t}var e={},i={app:0},n=[];function c(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=e,c.d=function(t,a,s){c.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,a){if(1&a&&(t=c(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)c.d(s,e,function(a){return t[a]}.bind(null,e));return s},c.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(a,"a",a),a},c.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=a,l=l.slice();for(var o=0;o<l.length;o++)a(l[o]);var u=r;n.push([0,"chunk-vendors"]),s()})({0:function(t,a,s){t.exports=s("56d7")},2181:function(t,a,s){},"56d7":function(t,a,s){"use strict";s.r(a);s("99af"),s("4de4"),s("4d90"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"app"}},[s("top"),s("index")],1)},n=[],c=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"top-container"},[s("div",{staticClass:"left-box"},[s("div",{staticClass:"icon-wrapper"},[s("span",{staticClass:"iconfont icon-home",on:{click:function(a){return t.toHomeClick()}}}),s("span",{staticClass:"iconfont icon-full-screen",on:{click:function(a){return t.handleFullScreen()}}})]),s("h2",{staticClass:"title"},[t._v("听音乐，用这个")])]),s("div",{staticClass:"right-box"},[s("div",{staticClass:"el-input el-input--small el-input--prefix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"请输入搜索内容"},domProps:{value:t.inputValue},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.toResult(a)},input:function(a){a.target.composing||(t.inputValue=a.target.value)}}}),t._m(0)])])])},l=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("span",{staticClass:"el-input__prefix"},[s("i",{staticClass:"el-input__icon el-icon-search"})])}],r={data:function(){return{inputValue:""}},methods:{toResult:function(){""===this.inputValue?this.$message({message:"请输入内容",type:"warning"}):this.$router.push("/result?keywords=".concat(this.inputValue))},toHomeClick:function(){"/discovery"!==this.$route.path&&this.$router.push("/discovery")},handleFullScreen:function(){var t=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),this.fullscreen=!this.fullscreen}}},o=r,u=s("2877"),p=Object(u["a"])(o,c,l,!1,null,null,null),v=p.exports,m=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"index-container"},[s("div",{staticClass:"nav"},[s("ul",[s("li",[s("router-link",{attrs:{to:"/discovery"}},[s("span",{staticClass:"iconfont icon-find-music"}),t._v(" 发现音乐 ")])],1),s("li",[s("router-link",{attrs:{to:"/playlists"}},[s("span",{staticClass:"iconfont icon-music-list"}),t._v(" 推荐歌单 ")])],1),s("li",[s("router-link",{attrs:{to:"/songs"}},[s("span",{staticClass:"iconfont icon-music"}),t._v(" 最新音乐 ")])],1),s("li",[s("router-link",{attrs:{to:"/mvs"}},[s("span",{staticClass:"iconfont icon-mv"}),t._v(" 最新MV ")])],1)])]),s("div",{staticClass:"main"},[s("router-view")],1),s("div",{staticClass:"player"},[s("audio",{attrs:{src:t.musicUrl,controls:"",autoplay:""}})])])},d=[],C={name:"index",data:function(){return{musicUrl:""}},components:{}},_=C,g=(s("669c"),Object(u["a"])(_,m,d,!1,null,"77f237ac",null)),h=g.exports,f={name:"app",methods:{},components:{top:v,index:h}},y=f,b=(s("eb2d"),Object(u["a"])(y,i,n,!1,null,"da949b92",null)),w=b.exports,k=s("1bee"),x=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"discovery-container"},[s("el-carousel",{attrs:{interval:4e3,type:"card"}},t._l(t.banners,(function(t,a){return s("el-carousel-item",{key:a},[s("img",{attrs:{src:t.imageUrl,alt:""}})])})),1),s("div",{staticClass:"recommend"},[s("h3",{staticClass:"title"},[t._v(" 推荐歌单 ")]),s("div",{staticClass:"items"},t._l(t.playList,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toPlaylist(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"desc"},[t._v(t._s(a.copywriter))])]),s("img",{attrs:{src:a.picUrl+"?param=200y200",alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)]),s("div",{staticClass:"news"},[s("h3",{staticClass:"title"},[t._v(" 最新音乐 ")]),s("div",{staticClass:"items"},t._l(t.newSongs,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.picUrl+"?param=130y130",alt:""}}),s("span",{staticClass:"iconfont icon-play",on:{click:function(s){return t.playMusic(a.id)}}})]),s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"song-name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.song.artists[0].name))])])])})),0)]),s("div",{staticClass:"mvs"},[s("h3",{staticClass:"title"},[t._v("推荐MV")]),s("div",{staticClass:"items"},t._l(t.mvs,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.picUrl+"?param=260y160",alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])],1)},M=[],S=s("82ae"),R=s.n(S),L={name:"discovery",data:function(){return{banners:[],playList:[],newSongs:[],mvs:[]}},created:function(){var t=this;R()({url:"/banner",method:"get",params:{}}).then((function(a){t.banners=a.data.banners})),R()({url:"/personalized",method:"get",params:{limit:10}}).then((function(a){t.playList=a.data.result})),R()({url:"/personalized/newsong",method:"get"}).then((function(a){t.newSongs=a.data.result})),R()({url:"/personalized/mv",method:"get"}).then((function(a){t.mvs=a.data.result}))},methods:{toPlaylist:function(t){this.$router.push("/playlist?key=".concat(t))},playMusic:function(t){var a=this;R()({url:"/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))},toMv:function(t){alert(t)}}},$=L,I=Object(u["a"])($,x,M,!1,null,null,null),U=I.exports,O=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"playlists-container"},[s("div",{staticClass:"top-card"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:t.topList.coverImgUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"tag"},[t._v("精品歌单")]),s("div",{staticClass:"title"},[t._v(t._s(t.topList.name))]),s("div",{staticClass:"info"},[t._v(t._s(t.topList.description))])]),s("img",{staticClass:"bg",attrs:{src:t.topList.coverImgUrl,alt:""}}),s("div",{staticClass:"bg-mask"})]),s("div",{staticClass:"tab-container"},[s("div",{staticClass:"tab-bar"},[s("span",{staticClass:"item",class:{active:"全部"===t.tag},on:{click:function(a){t.tag="全部"}}},[t._v("全部")]),s("span",{staticClass:"item",class:{active:"欧美"===t.tag},on:{click:function(a){t.tag="欧美"}}},[t._v("欧美")]),s("span",{staticClass:"item",class:{active:"华语"===t.tag},on:{click:function(a){t.tag="华语"}}},[t._v("华语")]),s("span",{staticClass:"item",class:{active:"流行"===t.tag},on:{click:function(a){t.tag="流行"}}},[t._v("流行")]),s("span",{staticClass:"item",class:{active:"说唱"===t.tag},on:{click:function(a){t.tag="说唱"}}},[t._v("说唱")]),s("span",{staticClass:"item",class:{active:"摇滚"===t.tag},on:{click:function(a){t.tag="摇滚"}}},[t._v("摇滚")]),s("span",{staticClass:"item",class:{active:"民谣"===t.tag},on:{click:function(a){t.tag="民谣"}}},[t._v("民谣")]),s("span",{staticClass:"item",class:{active:"电子"===t.tag},on:{click:function(a){t.tag="电子"}}},[t._v("电子")]),s("span",{staticClass:"item",class:{active:"轻音乐"===t.tag},on:{click:function(a){t.tag="轻音乐"}}},[t._v("轻音乐")]),s("span",{staticClass:"item",class:{active:"影视原声"===t.tag},on:{click:function(a){t.tag="影视原声"}}},[t._v("影视原声")]),s("span",{staticClass:"item",class:{active:"ACG"===t.tag},on:{click:function(a){t.tag="ACG"}}},[t._v("ACG")]),s("span",{staticClass:"item",class:{active:"怀旧"===t.tag},on:{click:function(a){t.tag="怀旧"}}},[t._v("怀旧")]),s("span",{staticClass:"item",class:{active:"治愈"===t.tag},on:{click:function(a){t.tag="治愈"}}},[t._v("治愈")]),s("span",{staticClass:"item",class:{active:"旅行"===t.tag},on:{click:function(a){t.tag="旅行"}}},[t._v("旅行")])]),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"items"},t._l(t.playlists,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toPlaylist(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),s("span",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("img",{attrs:{src:a.coverImgUrl+"?param=200y200",alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)])]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)},j=[],F=(s("96cf"),s("1da1")),z={name:"recomend",data:function(){return{total:0,page:1,pageSize:20,topList:{},playlists:[],tag:"全部"}},created:function(){this._getTopList(),this._getPlayLists()},methods:{toPlaylist:function(t){this.$router.push("/playlist?key=".concat(t))},_getTopList:function(t){var a=this;return Object(F["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,R()({url:"/top/playlist/highquality",params:{limit:t,cat:a.tag}}).then((function(t){a.topList=t.data.playlists[0]}));case 2:case"end":return s.stop()}}),s)})))()},_getPlayLists:function(t){var a=this;return Object(F["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R()({url:"/top/playlist",params:{limit:a.pageSize,cat:a.tag,total:!0,order:"hot",offset:(a.page-1)*a.pageSize}}).then((function(t){a.total=t.data.total,a.playlists=t.data.playlists}));case 2:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(t){this.page=t,this._getPlayLists()}},watch:{tag:function(){this._getTopList(),this._getPlayLists()}}},P=z,E=Object(u["a"])(P,O,j,!1,null,null,null),q=E.exports,N=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"songs-container"},[s("div",{staticClass:"tab-bar"},[s("span",{staticClass:"item",class:{active:0===t.tag},on:{click:function(a){t.tag=0}}},[t._v("全部")]),s("span",{staticClass:"item",class:{active:7===t.tag},on:{click:function(a){t.tag=7}}},[t._v("华语")]),s("span",{staticClass:"item",class:{active:96===t.tag},on:{click:function(a){t.tag=96}}},[t._v("欧美")]),s("span",{staticClass:"item",class:{active:8===t.tag},on:{click:function(a){t.tag=8}}},[t._v("日本")]),s("span",{staticClass:"item",class:{active:16===t.tag},on:{click:function(a){t.tag=16}}},[t._v("韩国")])]),s("table",{staticClass:"el-table playlit-table"},[t._m(0),s("tbody",t._l(t.songs,(function(a,e){return s("tr",{key:e,staticClass:"el-table__row"},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.album.picUrl+"?param=130y130",alt:""}}),s("span",{staticClass:"iconfont icon-play",on:{click:function(s){return t.playMusic(a.id)}}})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),s("span",{staticClass:"iconfont icon-mv"})])])]),s("td",[t._v(t._s(a.album.artists[0].name))]),s("td",[t._v(t._s(a.album.name))]),s("td",[t._v(t._s(a.duration))])])})),0)])])},V=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])])}],T={name:"songs",data:function(){return{songs:[],tag:"0"}},created:function(){this.getSongs()},watch:{tag:function(){this.getSongs()}},methods:{getSongs:function(){var t=this;R()({url:"https://autumnfish.cn/top/song",method:"get",params:{type:this.tag}}).then((function(a){t.songs=a.data.data;for(var s=0;s<t.songs.length;s++){var e=t.songs[s].duration,i=parseInt(e/1e3/60);i<10&&(i="0"+i);var n=parseInt(e/1e3%60);n<10&&(n="0"+n),t.songs[s].duration="".concat(i,":").concat(n)}}))},playMusic:function(t){var a=this;R()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))}}},D=T,A=Object(u["a"])(D,N,V,!1,null,null,null),G=A.exports,H=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mvs-container"},[s("div",{staticClass:"filter-wrap"},[s("div",{staticClass:"seciton-wrap"},[s("span",{staticClass:"section-type"},[t._v("地区:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"全部"===t.area},on:{click:function(a){t.area="全部"}}},[t._v("全部")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"内地"===t.area},on:{click:function(a){t.area="内地"}}},[t._v("内地")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"港台"===t.area},on:{click:function(a){t.area="港台"}}},[t._v("港台")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"欧美"===t.area},on:{click:function(a){t.area="欧美"}}},[t._v("欧美")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"日本"===t.area},on:{click:function(a){t.area="日本"}}},[t._v("日本")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"韩国"===t.area},on:{click:function(a){t.area="韩国"}}},[t._v("韩国")])])])]),s("div",{staticClass:"type-wrap"},[s("span",{staticClass:"type-type"},[t._v("类型:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"全部"===t.type},on:{click:function(a){t.type="全部"}}},[t._v("全部")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"官方版"===t.type},on:{click:function(a){t.type="官方版"}}},[t._v("官方版")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"原声"===t.type},on:{click:function(a){t.type="原声"}}},[t._v("原声")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"现场版"===t.type},on:{click:function(a){t.type="现场版"}}},[t._v("现场版")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"网易出品"===t.type},on:{click:function(a){t.type="网易出品"}}},[t._v("网易出品")])])])]),s("div",{staticClass:"order-wrap"},[s("span",{staticClass:"order-type"},[t._v("排序:")]),s("ul",{staticClass:"tabs-wrap"},[s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"上升最快"===t.order},on:{click:function(a){t.order="上升最快"}}},[t._v("上升最快")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"最热"===t.order},on:{click:function(a){t.order="最热"}}},[t._v("最热")])]),s("li",{staticClass:"tab"},[s("span",{staticClass:"title",class:{active:"最新"===t.order},on:{click:function(a){t.order="最新"}}},[t._v("最新")])])])])]),s("div",{staticClass:"mvs"},[s("div",{staticClass:"items"},t._l(t.mvs,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover+"?param=250y160",alt:""}}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1)])},J=[],Y={name:"mvs",data:function(){return{total:20,page:1,limit:12,area:"全部",type:"全部",order:"上升最快",mvs:[]}},created:function(){this.getMvs(),this.page=1},watch:{area:function(){this.page=1,this.getMvs()},type:function(){this.page=1,this.getMvs()},order:function(){this.page=1,this.getMvs()}},methods:{toMv:function(t){this.$router.push("/mv?id=".concat(t))},getMvs:function(){var t=this;R()({url:"https://autumnfish.cn/mv/all",method:"get",params:{area:this.area,type:this.type,order:this.order,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){t.mvs=a.data.data;for(var s=0;s<t.mvs.length;s++)t.mvs[s].playCount>1e4&&(t.mvs[s].playCount=parseInt(t.mvs[s].playCount/1e4)+"w");a.data.count&&(t.total=a.data.count)}))},handleCurrentChange:function(t){this.page=t,this.getMvs()}}},B=Y,K=Object(u["a"])(B,H,J,!1,null,null,null),Q=K.exports,W=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"result-container"},[s("div",{staticClass:"title-wrap"},[s("h2",{staticClass:"title",attrs:{keywords:t.keywords=t.$route.query.keywords}},[t._v(t._s(t.$route.query.keywords))]),s("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.count)+"结果")])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[s("table",{staticClass:"el-table"},[s("thead",[s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.songList,(function(a,e){return s("tr",{key:e,staticClass:"el-table__row",on:{click:function(s){return t.playMusic(a.id)}}},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!==a.mvid?s("span",{staticClass:"iconfont icon-mv"}):t._e()]),0!==a.alias.length?s("span",[t._v(t._s(a.alias[0]))]):t._e()])]),s("td",[t._v(t._s(a.artists[0].name))]),s("td",[t._v(t._s(a.album.name))]),s("td",[t._v(t._s(a.duration))])])})),0)])]),s("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[s("div",{staticClass:"items"},t._l(t.playLists,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toPlaylist(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),s("span",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("img",{attrs:{src:a.coverImgUrl+"?param=200y200",alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.name))])])})),0)]),s("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[s("div",{staticClass:"items mv"},t._l(t.mvs,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.toMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover+"?param=250y150",alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("span",{staticClass:"time"},[t._v(t._s(a.duration))])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])],1),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.pageNum,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)},X=[],Z={data:function(){return{activeIndex:"songs",songList:[],playLists:[],count:0,type:1,limit:20,mvs:[],total:0,pageNum:1,pageSize:10}},watch:{activeIndex:function(){switch(this.activeIndex){case"songs":this.type=1,this.pageNum=1;break;case"lists":this.type=1e3,this.pageNum=1;break;case"mv":this.type=1004,this.pageNum=1;break;default:break}this._search()}},created:function(){this._search()},methods:{handleCurrentChange:function(t){this.pageNum=t,this._search()},_search:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,R()({url:"https://autumnfish.cn/search",method:"get",params:{keywords:t.$route.query.keywords,type:t.type,limit:1004===t.type?15:20,offset:(t.pageNum-1)*(1004===t.type?15:20)}}).then((function(a){if(1===t.type){t.songList=a.data.result.songs;for(var s=0;s<t.songList.length;s++){var e=parseInt(t.songList[s].duration/1e3/60);e<10&&(e="0"+e);var i=parseInt(t.songList[s].duration/1e3%60);i<10&&(i="0"+i),t.songList[s].duration=e+":"+i}t.count=a.data.result.songCount}else if(1e3===t.type){t.playLists=a.data.result.playlists,t.count=a.data.result.playlistCount;for(var n=0;n<t.playLists.length;n++)t.playLists[n].playCount>1e5&&(t.playLists[n].playCount=parseInt(t.playLists[n].playCount/1e4)+"w")}else{t.mvs=a.data.result.mvs,t.count=a.data.result.mvCount;for(var c=0;c<t.mvs.length;c++){var l=parseInt(t.mvs[c].duration/1e3/60),r=parseInt(t.mvs[c].duration/1e3%60);l<10&&(l="0"+l),r<10&&(r="0"+r),t.mvs[c].duration=t.min+":"+r,t.mvs[c].playCount>1e5&&(t.mvs[c].playCount=parseInt(t.mvs[c].playCount/1e4)+"w")}}t.total=t.count}));case 2:case"end":return a.stop()}}),a)})))()},toPlaylist:function(t){this.$router.push("/playlist?key=".concat(t))},toMv:function(t){this.$router.push("/mv?id=".concat(t))},playMusic:function(t){var a=this;R()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))}}},tt=Z,at=Object(u["a"])(tt,W,X,!1,null,null,null),st=at.exports,et=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"playlist-container"},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),s("div",{staticClass:"author-wrap"},[void 0!==t.playlist.creator?s("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}):t._e(),void 0!==t.playlist.creator?s("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]):t._e(),s("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(t.playlist.createTime)))])]),t._m(0),s("div",{staticClass:"tag-wrap"},[s("span",{staticClass:"title"},[t._v("标签:")]),s("ul",t._l(t.playlist.tags,(function(a,e){return s("li",{key:e},[t._v(t._s(a))])})),0)]),s("div",{staticClass:"desc-wrap"},[s("span",{staticClass:"title"},[t._v("简介:")]),s("span",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])])])]),s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[s("table",{staticClass:"el-table playlit-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")]),s("th",[t._v("时长")])]),s("tbody",t._l(t.playlist.tracks,(function(a,e){return s("tr",{key:e,staticClass:"el-table__row",on:{click:function(s){return t.playMusic(a.id)}}},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.al.picUrl+"?param=130y130",alt:""}}),s("span",{staticClass:"iconfont icon-play"})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.name))]),0!==a.mvid?s("span",{staticClass:"iconfont icon-mv"}):t._e()])])]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(t._s(a.al.name))]),s("td",[t._v(t._s(a.dt))])])})),0)])]),s("el-tab-pane",{attrs:{label:"评论("+t.total+")",name:"2"}},[void 0!==t.hotComments&&0!==t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 热门评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotCount)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},it=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"play-wrap"},[s("span",{staticClass:"iconfont icon-circle-play"}),s("span",{staticClass:"text"},[t._v("播放全部")])])}],nt={name:"playlist",data:function(){return{activeIndex:"1",total:0,page:1,playlist:{},hotComments:[],hotCount:0,comments:[],pageSize:10}},created:function(){var t=this;R()({url:"/playlist/detail",method:"get",params:{id:this.$route.query.key}}).then((function(a){t.playlist=a.data.playlist})),R()({url:"/comment/hot",method:"get",params:{id:this.$route.query.key,type:2}}).then((function(a){t.hotComments=a.data.hotComments,t.hotCount=a.data.total})),this._getPlayList()},methods:{handleCurrentChange:function(t){this.page=t,this._getPlayList()},_getPlayList:function(){var t=this;R()({url:"/comment/playlist",method:"get",params:{id:this.$route.query.key,limit:this.pageSize,offset:(this.page-1)*this.pageSize}}).then((function(a){t.total=a.data.total,t.comments=a.data.comments}))},playMusic:function(t){var a=this;R()({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$parent.musicUrl=s}))}}},ct=nt,lt=Object(u["a"])(ct,et,it,!1,null,null,null),rt=lt.exports,ot=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mv-container"},[s("div",{staticClass:"mv-wrap"},[s("h3",{staticClass:"title"},[t._v("mv详情")]),s("div",{staticClass:"video-wrap"},[s("video",{attrs:{controls:"",src:t.url,autoplay:""}})]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"avatar-wrap"},[s("img",{attrs:{src:t.icon+"?param=250y150",alt:""}})]),s("span",{staticClass:"name"},[t._v(t._s(t.mvInfo.artistName))])]),s("div",{staticClass:"mv-info"},[s("h2",{staticClass:"title"},[t._v(t._s(t.mvInfo.name))]),s("span",{staticClass:"date"},[t._v("发布："+t._s(t.mvInfo.publishTime))]),s("span",{staticClass:"number"},[t._v("播放："+t._s(t.mvInfo.playCount)+" 次")]),s("p",{staticClass:"desc"},[t._v(t._s(t.mvInfo.desc))])])]),void 0!==t.hotComments&&0!==t.hotComments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 精彩评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]):t._e(),s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论 "),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=50y50",alt:""}})]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.content))])]),0!==a.beReplied.length?s("div",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname))]),s("span",{staticClass:"comment"},[t._v("："+t._s(a.beReplied[0].content))])]):t._e(),s("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.time)))])])])})),0)]),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"mv-recommend"},[s("h3",{staticClass:"title"},[t._v("相关推荐")]),s("div",{staticClass:"mvs"},[s("div",{staticClass:"items"},t._l(t.simiMvs,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.playMv(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover+"?param=250y150",alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("div",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num"},[t._v(t._s(a.playCount))])]),s("span",{staticClass:"time"},[t._v(t._s(a.duration))])]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(a.name))]),s("div",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])])])},ut=[],pt={name:"mv",data:function(){return{id:"",total:20,page:1,pageSize:10,limit:10,url:"",simiMvs:[],mvInfo:{},icon:"",hotComments:[],comments:[]}},created:function(){this.id=this.$route.query.id,this._getMvUrl(),this._getSimiMvUrl(),this._getMvDetail(),this._getMvComment()},methods:{handleCurrentChange:function(t){this.page=t,this._getMvComment()},_getMvUrl:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:R()({url:"/mv/url",method:"get",params:{id:t.id}}).then((function(a){t.url=a.data.data.url}));case 1:case"end":return a.stop()}}),a)})))()},_getSimiMvUrl:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,R()({url:"/simi/mv",method:"get",params:{mvid:t.id}}).then((function(a){t.simiMvs=a.data.mvs}));case 2:case"end":return a.stop()}}),a)})))()},_getMvDetail:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,R()({url:"/mv/detail",method:"get",params:{mvid:t.id}}).then((function(a){t.mvInfo=a.data.data,R()({url:"/artists",method:"get",params:{id:t.mvInfo.artists[0].id}}).then((function(a){t.icon=a.data.artist.picUrl}))}));case 2:case"end":return a.stop()}}),a)})))()},_getMvComment:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,R()({url:"/comment/mv",method:"get",params:{id:t.id,limit:10,offset:10*(t.page-1)}}).then((function(a){t.hotComments=a.data.hotComments,t.comments=a.data.comments,t.total=a.data.total}));case 2:case"end":return a.stop()}}),a)})))()},playMv:function(t){this.pageNum=1,this.id=t,this._getMvUrl(),this._getMvDetail(),this._getSimiMvUrl(),this._getMvComment()}}},vt=pt,mt=Object(u["a"])(vt,ot,ut,!1,null,null,null),dt=mt.exports;e["default"].use(k["a"]);var Ct=new k["a"]({routes:[{path:"/discovery",component:U},{path:"/",component:U},{path:"/playlists",component:q},{path:"/songs",component:G},{path:"/mvs",component:Q},{path:"/result",component:st},{path:"/playlist",component:rt},{path:"/mv",component:dt}]}),_t=Ct,gt=s("2ca7"),ht=s.n(gt);s("d940"),s("46c6");R.a.defaults.baseURL="https://autumnfish.cn",e["default"].config.productionTip=!1,e["default"].use(ht.a),e["default"].filter("dateFormat",(function(t){var a=new Date(t),s=a.getFullYear(),e=(a.getMonth()+1+"").padStart(2,"0"),i=(a.getDate()+"").padStart(2,"0"),n=(a.getHours()+"").padStart(2,"0"),c=(a.getMinutes()+"").padStart(2,"0"),l=(a.getSeconds()+"").padStart(2,"0");return"".concat(s,"-").concat(e,"-").concat(i," ").concat(n,":").concat(c,":").concat(l)})),new e["default"]({render:function(t){return t(w)},router:_t}).$mount("#app")},"669c":function(t,a,s){"use strict";var e=s("ae10"),i=s.n(e);i.a},ae10:function(t,a,s){},d940:function(t,a,s){},eb2d:function(t,a,s){"use strict";var e=s("2181"),i=s.n(e);i.a}});
//# sourceMappingURL=app.a7d4caaf.js.map